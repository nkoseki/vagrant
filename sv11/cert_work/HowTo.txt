https://www.tohoho-web.com/ex/openssl.html

# 秘密鍵(KEY)を作成する
# openssl genrsa 2048 > api.hoge.jp.key

# 証明書署名要求(CSR)を作成する
openssl req -new -key api.hoge.jp.key -out api.hoge.jp.csr
* CN以外は空白でも動く

# 証明書署名要求(CSR)を自分の秘密鍵で署名する
# cat server.csr | openssl x509 -req -signkey server.key > server.crt

# 最近のブラウザはCNでなくSAN(DNS情報)を参照するらしい
# echo "subjectAltName = DNS:api.hoge.jp, DNS:www.hoge.jp" > san.txt
# cat api.hoge.jp.csr |openssl x509 -req -signkey api.hoge.jp.key -extfile san.txt 2>&1 |openssl x509 -noout -text

# CSRにSANの情報を埋め込む方法
openssl req -in api.hoge.jp.san.csr -text -noout
